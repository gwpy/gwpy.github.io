
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/timeseries/blrms.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_timeseries_blrms.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_timeseries_blrms.py:


.. sectionauthor:: Duncan Macleod <duncan.macleod@ligo.org>
.. currentmodule:: gwpy.timeseries

Comparing seismic trends between LIGO sites
###########################################

On Jan 16 2020 there was a series of earthquakes, that
should have had an impact on LIGO operations, I'd like to find out.

.. GENERATED FROM PYTHON SOURCE LINES 31-38

Data access
-----------
We choose to look at the 0.03Hz-1Hz ground motion band-limited RMS channel
(1-second average trends) for each interferometer.
We use a
`format string <https://docs.python.org/3/tutorial/inputoutput.html#the-string-format-method>`_
so we can substitute the interferometer prefix without duplicating the channel name:

.. GENERATED FROM PYTHON SOURCE LINES 38-43

.. code-block:: Python


    channel = "{ifo}:ISI-GND_STS_ITMY_Z_BLRMS_30M_100M"
    lhochan = channel.format(ifo="H1")
    llochan = channel.format(ifo="L1")








.. GENERATED FROM PYTHON SOURCE LINES 44-46

To access the data, we can use :meth:`~TimeSeriesDict.get`, and give start and end
datetimes to fetch 6 hours of data for each interferometer:

.. GENERATED FROM PYTHON SOURCE LINES 46-55

.. code-block:: Python


    from gwpy.timeseries import TimeSeriesDict
    data = TimeSeriesDict.get(
        [lhochan, llochan],
        "Jan 16 2020 8:00",
        "Jan 16 2020 14:00",
        host="nds.gwosc.org",
    )





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    /home/duncan.macleod/gwpy-nightly-build/conda/envs/gwpy-nightly-3.11/lib/python3.11/site-packages/igwn_auth_utils/requests.py:56: DeprecationWarning: Support for identity-based X.509 credentials for LIGO.ORG is being dropped.
    Calls to this utility will stop working on/around 20 May 2025.

    For details on this change please see

    https://computing.docs.ligo.org/guide/compsoft/roadmap/LVK/x509_retirement/

    If you have questions about this message, or its implications, please
    consider opening an IGWN Computing Help Desk ticket:

    https://git.ligo.org/computing/helpdesk/-/issues/new
      return func(*args, **kwargs)




.. GENERATED FROM PYTHON SOURCE LINES 56-59

Visualisation
-------------
Now that we have the data, we can easily `~TimeSeriesDict.plot` them:

.. GENERATED FROM PYTHON SOURCE LINES 59-72

.. code-block:: Python


    plot = data[lhochan].plot(
        color="gwpy:ligo-hanford",
        label="LIGO-Hanford",
        yscale="log",
        ylabel=r"$1-3$\,Hz motion [nm/s]",
    )
    ax = plot.gca()
    ax.plot(data[llochan], color="gwpy:ligo-livingston", label="LIGO-Livingston")
    ax.set_title("Impact of earthquakes on LIGO")
    ax.legend()
    plot.show()




.. image-sg:: /examples/timeseries/images/sphx_glr_blrms_001.png
   :alt: Impact of earthquakes on LIGO
   :srcset: /examples/timeseries/images/sphx_glr_blrms_001.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 73-75

As we can see, the earthquake had a huge impact on the LIGO observatories,
severly impairing operations for several hours.


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 4.841 seconds)


.. _sphx_glr_download_examples_timeseries_blrms.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: blrms.ipynb <blrms.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: blrms.py <blrms.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: blrms.zip <blrms.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
