<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote data access &#8212; GWpy 2.0.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/gwpy-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/js/gwpy_https.js"></script>
    <script src="../_static/js/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Automatic data-discovery" href="datafind.html" />
    <link rel="prev" title="StateVectorDict" href="../api/gwpy.timeseries.StateVectorDict.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          GWpy</a>
        <span class="navbar-text navbar-version pull-left"><b>2.0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../examples/index.html">Examples</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Contents <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">What is GWpy?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">How do I install GWpy?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing GWpy</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Time-domain data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/index.html">Signal processing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../segments/index.html">Data-quality segments</a></li>
<li class="toctree-l1"><a class="reference internal" href="statevector.html">The <code class="xref py py-class docutils literal notranslate"><span class="pre">StateTimeSeries</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">StateVector</span></code> classes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../spectrum/index.html">The <code class="xref py py-class docutils literal notranslate"><span class="pre">FrequencySeries</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spectrogram/index.html">The <code class="xref py py-obj docutils literal notranslate"><span class="pre">Spectrogram</span></code></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../table/index.html">Tabular data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plot/index.html">Plotting in GWpy (<code class="xref py py-mod docutils literal notranslate"><span class="pre">gwpy.plot</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command line plotting with GWpy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../detector/channel.html">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/index.html">Times and timestamps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../astro/index.html">Astrophysical modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env.html">Configuring GWpy from the environment</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/release.html">Publishing a release</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">GWpy examples</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../api/gwpy.timeseries.StateVectorDict.html" title="Previous Chapter: StateVectorDict"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; StateVectorDict</span>
    </a>
  </li>
  <li>
    <a href="datafind.html" title="Next Chapter: Automatic data-discovery"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Automatic dat... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Remote data access</a><ul>
<li><a class="reference internal" href="#open-data-releases">Open data releases</a></li>
<li><a class="reference internal" href="#restricted-full-data-archives">Restricted full data archives</a></li>
</ul>
</li>
</ul>

<div id="sourcelink">
  <a href="../_sources/timeseries/remote-access.rst.txt"
     rel="nofollow">Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="remote-data-access">
<span id="gwpy-timeseries-remote"></span><h1>Remote data access<a class="headerlink" href="#remote-data-access" title="Permalink to this headline">¶</a></h1>
<p>The LIGO Laboratory archives instrumental data in GWF files hosted on the LIGO Data Grid (see <a class="reference internal" href="datafind.html#gwpy-timeseries-datafind"><span class="std std-ref">Automatic data-discovery</span></a> for more details), however, remote access tools have been developed to simplify loading data.
GWpy provides two methods for remote data access, one for public data releases, and another for authenticated access to the complete data archive:</p>
<table class="docutils align-left" id="timeseries-remote-access-methods">
<caption><span class="caption-text">Methods for remote <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries" title="gwpy.timeseries.TimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries</span></code></a> data access in GWpy</span><a class="headerlink" href="#timeseries-remote-access-methods" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 49%" />
<col style="width: 16%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Restricted?</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.fetch_open_data" title="gwpy.timeseries.TimeSeries.fetch_open_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.fetch_open_data()</span></code></a></p></td>
<td><p>public</p></td>
<td><p>Fetch data from LIGO Open
Science Center (LOSC)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.get" title="gwpy.timeseries.TimeSeries.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.get()</span></code></a></p></td>
<td><p>LIGO.ORG</p></td>
<td><p>Fetch data via local disk
or NDS2</p></td>
</tr>
</tbody>
</table>
<div class="section" id="open-data-releases">
<span id="gwpy-timeseries-remote-public"></span><h2>Open data releases<a class="headerlink" href="#open-data-releases" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://losc.ligo.org/">LIGO Open Science Center</a> hosts a large quantity of open (meaning publicly-available) data from LIGO science runs, including the full strain record for the sixth LIGO science run (S6, 2009-2010) and short extracts of the strain record surrounding published GW observations from Advanced LIGO.</p>
<p>To fetch 32 seconds of strain data around event <a class="reference external" href="https://doi.org/10.1103/PhysRevLett.116.061102">GW150914</a>, you need to give the prefix of the relevant observatory (<code class="docutils literal notranslate"><span class="pre">'H1'</span></code> for the LIGO Hanford Observatory, <code class="docutils literal notranslate"><span class="pre">'L1'</span></code> for LIGO Livingston), and the start and end times of your query:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gwpy.timeseries</span> <span class="kn">import</span> <span class="n">TimeSeries</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">fetch_open_data</span><span class="p">(</span><span class="s1">&#39;L1&#39;</span><span class="p">,</span> <span class="mi">1126259446</span><span class="p">,</span> <span class="mi">1126259478</span><span class="p">)</span>
</pre></div>
</div>
<p>Above the times are given in GPS format, but you could just as easily use a more readable format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">fetch_open_data</span><span class="p">(</span><span class="s1">&#39;L1&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep 14 2015 09:50:29&#39;</span><span class="p">,</span> <span class="s1">&#39;Sep 14 2015 09:51:01&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then trivially plot these data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../timeseries/remote-access-2.png">png</a>)</p>
<div class="figure align-default">
<img alt="../_images/remote-access-2.png" src="../_images/remote-access-2.png" />
</div>
<p>For more details on plotting a <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries" title="gwpy.timeseries.TimeSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries</span></code></a>, see <a class="reference internal" href="plot.html#gwpy-timeseries-plot"><span class="std std-ref">Plotting time-domain data</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.fetch_open_data" title="gwpy.timeseries.TimeSeries.fetch_open_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.fetch_open_data()</span></code></a> accepts the keyword <code class="xref py py-obj docutils literal notranslate"><span class="pre">cache</span></code>, which,
wnen set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> will store the downloaded data so that repeated requests
for a given URL result in only one download.
The <code class="docutils literal notranslate"><span class="pre">GWPY_CACHE</span></code> environment variable can be set (<code class="docutils literal notranslate"><span class="pre">GWPY_CACHE=1</span></code>)
to automatically set <code class="xref py py-obj docutils literal notranslate"><span class="pre">cache=True</span></code> for all open data downloads.</p>
</div>
</div>
<div class="section" id="restricted-full-data-archives">
<span id="gwpy-timeseries-remote-nds2"></span><h2>Restricted full data archives<a class="headerlink" href="#restricted-full-data-archives" title="Permalink to this headline">¶</a></h2>
<p><strong>Additional dependencies:</strong> <a class="reference external" href="https://www.lsc-group.phys.uwm.edu/daswg/projects/nds-client/doc/manual/"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nds2</span></code></a></p>
<p>Members of the LIGO Scientific Collaboration or the Virgo Collaboration can access the full raw and processed data archived via an authenticated remote protocol called NDS2.
In this case, the <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.get" title="gwpy.timeseries.TimeSeries.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TimeSeries.get()</span></code></a> method can be used to download data for any one of thousands of archived data channels.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Access to data using the <code class="xref py py-obj docutils literal notranslate"><span class="pre">nds2</span></code> client requires a <a class="reference external" href="https://web.mit.edu/kerberos/">Kerberos</a> authentication ticket.
This can be generated from the command-line using <code class="docutils literal notranslate"><span class="pre">kinit</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ kinit albert.einstein@LIGO.ORG
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">albert.einstein</span></code> should be replaced with your own LIGO.ORG identity.
If you don’t have an active kerberos credential at the time you run <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.get" title="gwpy.timeseries.TimeSeries.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries.get</span></code></a>, GWpy will prompt you to create one.</p>
</div>
<p>For Advanced LIGO the calibrated strain data channel is called <code class="docutils literal notranslate"><span class="pre">GDS-CALIB_STRAIN</span></code>, so to fetch H1 strain data for the same period as above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;H1:GDS-CALIB_STRAIN&#39;</span><span class="p">,</span> <span class="mi">1126259446</span><span class="p">,</span> <span class="mi">1126259478</span><span class="p">)</span>
</pre></div>
</div>
<p>Authenticated collaborators also have access to the thousands of auxiliary channels mentioned above, for example running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gnd</span> <span class="o">=</span> <span class="n">TimeSeries</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;L1:ISI-GND_STS_ITMY_Z_DQ&#39;</span><span class="p">,</span> <span class="s1">&#39;Jan 1 2016&#39;</span><span class="p">,</span> <span class="s1">&#39;Jan 1 2016 01:00&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will return one hour of data from the vertical-ground-motion seismometer located near the ITMY vacuum enclosure at LIGO Livingston.</p>
<p>The <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.get" title="gwpy.timeseries.TimeSeries.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries.get</span></code></a> method tries direct file access (using <a class="reference external" href="https://gwdatafind.readthedocs.io"><a class="reference external" href="https://gwdatafind.readthedocs.io/en/stable/index.html#module-gwdatafind" title="(in gwdatafind)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gwdatafind</span></code></a></a> for file discovery) first, then falls back to using the Network Data Server (NDS2) for remote access.
If you want to manually use NDS2 for remote access you can instead use the <a class="reference internal" href="../api/gwpy.timeseries.TimeSeries.html#gwpy.timeseries.TimeSeries.fetch" title="gwpy.timeseries.TimeSeries.fetch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeSeries.fetch</span></code></a> method.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Duncan Macleod.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>